(this["webpackJsonpdrink-up-front-user"]=this["webpackJsonpdrink-up-front-user"]||[]).push([[0],{128:function(e,t,s){},129:function(e,t,s){},257:function(e,t,s){"use strict";s.r(t);var n={};s.r(n),s.d(n,"logIn",(function(){return g})),s.d(n,"loginRequest",(function(){return y})),s.d(n,"loginSuccess",(function(){return w})),s.d(n,"loginFailed",(function(){return I})),s.d(n,"setIsAuthenticated",(function(){return S})),s.d(n,"logOut",(function(){return E})),s.d(n,"setUserData",(function(){return A})),s.d(n,"signOut",(function(){return _})),s.d(n,"getPlants",(function(){return U})),s.d(n,"setPlants",(function(){return P}));s(123);var a,c,r=s(2),i=s.n(r),l=s(26),o=s.n(l),d=(s(128),s(129),s(15)),u=s(11),j=s(14),b=s(260),m=Object(b.a)()(a=function e(){Object(j.a)(this,e)})||a,h=s(13),x=s.n(h),p=s(19),O=s(10),f=s(263),v=s(262);!function(e){e.LOGIN_REQUEST="LOGIN_REQUEST",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.LOGIN_FAILED="LOGIN_FAILED",e.SIGNIN="SIGNIN",e.REGISTER="REGISTER",e.SIGNOUT="SIGNOUT",e.SET_IS_AUTHENTICATED="SET_IS_AUTHENTICATED",e.GET_USER_DATA="GET_USER_DATA",e.SET_USER_DATA="SET_USER_DATA",e.SET_PLANTS="SET_PLANTS",e.TOGGLE_IS_NOTIFIED="TOGGLE_IS_NOTIFIED",e.UPDATE_INPUT="UPDATE_INPUT",e.CLEAR_INPUT="CLEAR_INPUT",e.USE_INJECTION="USE_INJECTION"}(c||(c={}));var N=s(16),g=function(e,t){var s=e.username,n=e.password;return function(){var e=Object(p.a)(x.a.mark((function e(a){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(y({username:s,password:n})),e.next=3,t.signIn(s,n);case 3:return c=t.getAuthenticatedUserId(),e.next=6,t.getUserData(c);case 6:(r=e.sent)?(a(w(r)),a(Object(N.d)("/dashboard"))):a(I("une erreur est survenue"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function y(e){return{type:c.LOGIN_REQUEST,data:e}}function w(e){return{type:c.LOGIN_SUCCESS,user:e}}function I(e){return{type:c.LOGIN_FAILED,error:e}}var k,T,S=function(e){return{type:c.SET_IS_AUTHENTICATED,status:e}},E=function(e){return function(){var t=Object(p.a)(x.a.mark((function t(s){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.signOut(),s(_()),s(Object(N.d)("/"));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return{type:c.SET_USER_DATA,user:e}},_=function(){return{type:c.SIGNOUT,isAuthenticated:!1}},U=function(e){return function(){var t=Object(p.a)(x.a.mark((function t(s){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAllPlants();case 2:n=t.sent,s(P(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return{type:c.SET_PLANTS,plants:e}},C=s(118),L=s(29),D=s(45),G=s(95),R=s(264),z=s(6),q={isAuthenticated:!1,user:null,error:null,isLoading:!1},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.LOGIN_REQUEST:return Object(z.a)(Object(z.a)({},e),{},{isLoading:!0});case c.LOGIN_SUCCESS:return Object(z.a)(Object(z.a)({},e),{},{isLoading:!1,isAuthenticated:!0,user:t.user});case c.LOGIN_FAILED:return Object(z.a)(Object(z.a)({},e),{},{isLoading:!1,error:t.error});case c.SIGNOUT:return Object(z.a)(Object(z.a)({},e),{},{isAuthenticated:!1});case c.SET_IS_AUTHENTICATED:return Object(z.a)(Object(z.a)({},e),{},{isAuthenticated:t.status});case c.SET_USER_DATA:return Object(z.a)(Object(z.a)({},e),{},{user:t.user});default:return Object(z.a)({},e)}},J={plants:[]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.SET_PLANTS:return Object(z.a)(Object(z.a)({},e),{},{plants:t.plants});default:return Object(z.a)({},e)}},V=Object(L.a)(),B=Object(O.c)({router:Object(D.b)(V),form:R.a,login:F,plant:M}),H=Object(O.d)(B,Object(O.a)(Object(G.a)(V),C.a)),W=s(1),Q=function(e){var t=e.input,s=e.type,n=e.label,a=e.meta,c=a.touched,r=a.error;return Object(W.jsxs)("div",{className:"form-group text-light",children:[Object(W.jsx)("label",{htmlFor:t.name,className:"form-label mt-4 mr-4 float-start",children:n}),Object(W.jsx)("input",Object(z.a)(Object(z.a)({},t),{},{type:s,id:t.name,className:"form-control rounded",placeholder:n})),c&&r&&Object(W.jsx)("small",{className:"error",children:r})]})},K=function(e){var t=e.input,s=(e.type,e.label),n=e.children,a=e.meta,c=a.touched,r=a.error;return Object(W.jsxs)("div",{className:"form-group field text-light",children:[Object(W.jsx)("label",{htmlFor:t.name,className:"form-label mt-4 float-start",children:s}),Object(W.jsx)("select",Object(z.a)(Object(z.a)({},t),{},{className:"form-select rounded",children:n})),c&&r&&Object(W.jsx)("small",{className:"help is-danger",children:r})]})},X=function(e){var t=e.input,s=e.type,n=e.label,a=(e.children,e.meta),c=(a.touched,a.error,e.defaultValue);return Object(W.jsxs)("div",{className:"form-check form-switch mt-4 text-light",children:[Object(W.jsx)("input",Object(z.a)(Object(z.a)({},t),{},{className:"form-check-input ",type:s,id:t.name,defaultValue:c,name:"isNotified"})),Object(W.jsx)("label",{className:"form-check-label float-start ml-5",htmlFor:t.name,children:n})]})},Y=Object(v.a)({form:"register",destroyOnUnmount:!0})((function(e){var t=e.handleSubmit,s=Object(d.useInjection)(m),a=Object(u.d)(),c=Object(O.b)(n,a).logIn,r=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.register({gender:t.gender,firstname:t.firstname,surname:t.surname,email:t.email,password:t.passwordReg,isNotified:t.isNotified});case 2:c({username:t.email,password:t.passwordReg},s);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{className:"register-form mx-5 w-50",children:[Object(W.jsx)("h2",{className:"text-light mb-5 fw-light ",children:"Cr\xe9er un compte utilisateur"}),Object(W.jsxs)("form",{onSubmit:t(r),children:[Object(W.jsx)("div",{className:"form-group",children:Object(W.jsxs)(f.a,{name:"gender",component:K,label:"Civilit\xe9",children:[Object(W.jsx)("option",{value:"",children:"Choisir une option",selected:!0}),Object(W.jsx)("option",{value:"Madame",children:"Madame"}),Object(W.jsx)("option",{value:"Monsieur",children:"Monsieur"})]})}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)(f.a,{name:"firstname",component:Q,label:"Pr\xe9nom",type:"text"})}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)(f.a,{name:"surname",component:Q,label:"Nom",type:"text"})}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)(f.a,{name:"email",component:Q,label:"Adresse e-mail",type:"email"})}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)(f.a,{name:"passwordReg",component:Q,label:"Mot de passe",type:"password"})}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)(f.a,{name:"passwordReg2",component:Q,label:"Confirmez votre mot de passe",type:"password"})}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)(f.a,{name:"isNotified",component:X,label:"Je souhaite recevoir les noficiations",type:"checkbox",defaultValue:!1})}),Object(W.jsx)("button",{type:"submit",className:"btn btn-success my-5 rounded",children:"Connexion"})]})]})})),Z=function(e){Object(d.useInjection)(m),Object(u.e)((function(e){return e.login}));return Object(W.jsxs)("div",{className:"bg-transparent p-5",style:{backgroundImage:'url("https://bergamotte.imgix.net/z049fzgxm50nzio6q6ri06wzq7op?ixlib=rails-4.2.0&auto=format%2Ccompress&fit=crop&q=65&ar=1%3A1&w=560")',backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:[Object(W.jsx)("div",{className:"p-5",children:Object(W.jsx)("div",{className:"jumbotron jumbotron-fluid",children:Object(W.jsxs)("div",{className:"container-fluid text-center",children:[Object(W.jsx)("h1",{className:"display-3",children:"DRINK UP !"}),Object(W.jsx)("p",{className:"lead text-25 pb-4 fw-bold text-dark",children:"Vos plantes n'auront plus jamais soif !"})]})})}),Object(W.jsxs)("div",{className:" position-relative container pt-5",children:[Object(W.jsx)("div",{className:"position-absolute top-0 start-0 bottom-0 end-0 bg-dark  opacity-75 "}),Object(W.jsx)("div",{className:" position-relative d-flex justify-content-between  pt-5",children:Object(W.jsx)(Y,{})})]})]})},$=s(59),ee=Object(b.a)()(k=function e(){Object(j.a)(this,e)})||k,te=s(120),se=function(){var e=Object(d.useInjection)(m),t=Object(u.d)(),s=Object(O.b)(n,t).logOut,a=Object(u.e)((function(e){return e.login.isAuthenticated}));return console.log(a),Object(W.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(W.jsxs)("div",{className:"container-fluid",children:[Object(W.jsxs)("a",{className:"navbar-brand d-flex flex-column align-items-center",href:"#",children:[Object(W.jsx)("span",{className:"text-success",children:Object(W.jsx)(te.a,{size:45})}),Object(W.jsx)("small",{className:"text-success fs-6",children:"Drink up"})]}),Object(W.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarColor02","aria-controls":"navbarColor02","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(W.jsx)("span",{className:"navbar-toggler-icon"})}),Object(W.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarColor02",children:[Object(W.jsxs)("ul",{className:"navbar-nav me-auto",children:[Object(W.jsx)("li",{className:"nav-item",children:Object(W.jsx)("a",{className:"nav-link",href:"#",children:"Nos Plantes"})}),Object(W.jsx)("li",{className:"nav-item",children:Object(W.jsx)("a",{className:"nav-link",href:"#",children:"Guide pratique"})}),Object(W.jsx)("li",{className:"nav-item",children:Object(W.jsx)("a",{className:"nav-link",href:"#",children:"Nous contacter"})})]}),!a&&Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("ul",{className:" navbar-nav ml-auto",children:Object(W.jsx)("li",{className:"nav-item",children:Object(W.jsx)("button",{onClick:function(){},className:"btn btn-success rounded",children:"Connexion"})})})}),a&&Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("ul",{className:" navbar-nav ml-auto",children:Object(W.jsx)("li",{className:"nav-item",children:Object(W.jsx)("button",{onClick:function(){return s(e)},className:"btn btn-outline-success",children:"Deconnexion"})})})})]})]})})},ne=Object(b.a)()(T=function e(){Object(j.a)(this,e)})||T,ae=function(){var e=Object(d.useInjection)(m),t=(Object(d.useInjection)(ne),e.getAuthenticatedUserId(),Object(u.d)()),s=(Object(O.b)(n,t).setUserData,Object(u.e)((function(e){return e.login.user}))),a=Object(u.e)((function(e){return e.login.isAuthenticated})),c=Object(u.e)((function(e){return e.login.isLoading})),r=(Object(u.e)((function(e){return e.login.error})),s.gardenerPlants);return console.log(c),Object(W.jsxs)("div",{className:"",id:"dashboard",children:[c&&Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("div",{className:"spinner-border",role:"status",children:Object(W.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})," ||",a&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{className:"d-flex hero",children:[Object(W.jsxs)("div",{className:"w-50 bg-transparent",children:[Object(W.jsxs)("div",{className:"my-5 mx-5 ",children:[Object(W.jsxs)("h1",{className:"display-6",children:["Bienvenue ",Object(W.jsx)("br",{}),"dans votre Serre Virtuelle"]}),Object(W.jsxs)("p",{className:"lead mt-5 fw-bold",children:[s.firstname,"\xa0",s.surname]}),Object(W.jsx)("p",{className:"py-4",children:"Depuis votre espace serre virtuelle, vous pouvez g\xe9rer l'arrosage de toutes vos plantes en un click !"})]}),Object(W.jsx)("div",{children:Object(W.jsx)("a",{href:"#",className:"btn btn-success rounded",children:"Ajouter une plante"})})]}),Object(W.jsx)("div",{className:"w-50",style:{backgroundImage:'url("https://images.pexels.com/photos/776656/pexels-photo-776656.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940")',backgroundRepeat:"no-repeat",backgroundSize:"cover"}})]}),Object(W.jsxs)("div",{className:"container stats",children:[Object(W.jsx)("h2",{className:"py-5 ",children:"Vos donn\xe9es en un clin d'oeil !"}),Object(W.jsxs)("div",{className:"d-flex justify-content-evenly mb-3",children:[Object(W.jsxs)("div",{className:"stat-item bg-success rounded-circle d-flex flex-column justify-content-center align-items-center shadow px-2 text-light",children:[Object(W.jsx)("p",{className:"fw-bold  text-light",children:"Nombre de plantes ador\xe9es"}),Object(W.jsx)("span",{className:"fs-1 fw-bold ",children:s.numberOfPlants})]}),Object(W.jsxs)("div",{className:"stat-item bg-success rounded-circle d-flex flex-column justify-content-center align-items-center shadow px-2 text-light",children:[Object(W.jsx)("p",{className:"fw-bold  text-light",children:"Nombre de plantes assoiff\xe9es"}),Object(W.jsx)("span",{className:"fs-1 fw-bold ",children:s.numberOfPlants})]}),Object(W.jsxs)("div",{className:"stat-item bg-success rounded-circle d-flex flex-column justify-content-center align-items-center shadow px-2 text-light",children:[Object(W.jsx)("p",{className:"fw-bold  text-light",children:"Nombre de plantes en p\xe9ril"}),Object(W.jsx)("span",{className:"fs-1 fw-bold ",children:s.numberOfPlants})]})]})]}),Object(W.jsxs)("div",{className:"serre py-5",children:[Object(W.jsx)("h2",{children:"Mes plantes"}),Object(W.jsx)("div",{className:"d-flex justify-content-start py-5 container",children:r.map((function(e){return Object(W.jsx)("div",{children:Object(W.jsxs)("div",{className:"card relative",style:{maxWidth:"20rem"},children:[Object(W.jsx)("h5",{className:"bg-dark text-light py-1",children:e.nickname}),Object(W.jsx)("img",{src:e.image,className:"card-img-top",alt:"..."}),Object(W.jsxs)("div",{className:"card-body",children:[Object(W.jsx)("p",{className:"card-text",children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),Object(W.jsx)("a",{href:"#",className:"btn btn-success",children:"Go somewhere"})]}),Object(W.jsx)("span",{className:"text-dark",children:"Prochaine date d'arrosage: 21/12/2021"}),Object(W.jsx)("i",{className:"bi bi-arrow-down-right-circle text-success",children:"hello"})]})})}))})]})]})||Object(W.jsx)("h1",{children:"connexion"})]})},ce=function(){return Object(W.jsx)("div",{children:Object(W.jsxs)("form",{children:[Object(W.jsxs)("div",{className:"form-group",children:[Object(W.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label mt-4",children:"Email address"}),Object(W.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),Object(W.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(W.jsxs)("div",{className:"form-group",children:[Object(W.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label mt-4",children:"Password"}),Object(W.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]})]})})},re=s(63),ie=Object(v.a)({form:"login",destroyOnUnmount:!0})((function(e){var t=e.handleSubmit,s=Object(d.useInjection)(m),a=Object(u.d)(),c=Object(O.b)(n,a).logIn;return Object(W.jsxs)("div",{className:"login-form mx-5 ",children:[Object(W.jsx)("h2",{className:"text-light mb-5 fw-light",children:"Acc\xe8s \xe0 votre serre virtuelle"}),Object(W.jsxs)("form",{onSubmit:t((function(e){c({username:e.username,password:e.password},s)})),children:[Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)(f.a,{name:"username",component:Q,label:"Adresse e-mail",type:"email"})}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)(f.a,{name:"password",component:Q,label:"Mot de passe",type:"password"})}),Object(W.jsx)("div",{className:"py-2 d-flex justify-content-start",children:Object(W.jsx)("a",{href:"#",className:"text-white",children:Object(W.jsx)("small",{children:"Mot de passe oubli\xe9 ?"})})}),Object(W.jsx)("button",{type:"submit",className:"btn btn-outline-light my-5 rounded",children:"Connexion"})]})]})})),le=s(22),oe=s(122),de=function(e){var t=Object(d.useInjection)(ne),s=Object(u.d)(),a=Object(O.b)(n,s).getPlants,c=Object(u.e)((function(e){return e.plant.plants})),i=Object(r.useCallback)(Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(t);case 1:case"end":return e.stop()}}),e)}))),[]);return Object(r.useEffect)((function(){i()}),[i]),console.log(c),Object(W.jsxs)("div",{id:"landing-page",className:"landing-page",children:[Object(W.jsx)("section",{className:"d-flex justify-content-center align-items-center hero ",children:Object(W.jsxs)("div",{className:"text-white ",children:[Object(W.jsx)("h1",{className:"main-title mb-4",children:"DRINK UP !"}),Object(W.jsxs)("p",{className:"lead ",children:["Vos plantes vous mennent la vie dure ? Drink up est l'application qu'il vous pour que vos plantes ne manquent plus jamais d'eau. Rejoignez-vous pour ",Object(W.jsx)("span",{className:"fw-bold",children:"une exp\xe9rience unique"}),"une exp\xe9rience unique.... enfin presque !"]}),Object(W.jsxs)("div",{className:"py-5 d-flex justify-content-center gap-5",children:[Object(W.jsx)("a",{href:"#",className:"btn fw-bold border-white btn-success rounded ",children:"D\xe9couvrir !"}),Object(W.jsx)("a",{href:"#",className:"btn fw-bold  btn-outline-light rounded",children:"Cr\xe9er un compte"})]})]})}),Object(W.jsx)("section",{className:"display bg-dark py-4 px-4",children:Object(W.jsxs)("div",{className:"row",children:[Object(W.jsxs)("div",{className:"catalogue col-8 ",children:[Object(W.jsxs)("div",{className:"d-flex justify-content-between py-4",children:[Object(W.jsx)("h2",{className:"text-start text-light fw-light mr-5",children:"Notre catalogue de plantes"}),Object(W.jsx)("a",{href:"#",className:"btn btn-sm  btn-outline-success rounded",children:"Nos plantes"})]}),Object(W.jsx)(re.a,{children:c.map((function(e){return Object(W.jsxs)(re.a.Item,{children:[Object(W.jsx)("img",{className:"rounded",src:e.image}),Object(W.jsx)(re.a.Caption,{children:Object(W.jsxs)("div",{className:"d-flex flex-column align-items-stretch justify-content-between",children:[Object(W.jsxs)("div",{children:[Object(W.jsx)("h3",{className:"py-5 display-3 fw-bold text-white",children:e.name}),Object(W.jsx)("p",{className:"carousel-description mb-5 fw-medium fs-4 ",children:e.description})]}),Object(W.jsx)("div",{className:"",children:Object(W.jsx)("a",{href:"#",className:"btn fw-bold border-white btn-success rounded",children:"Consulter"})})]})})]})}))})]}),Object(W.jsx)("div",{className:"login-form col-4 d-flex align-items-end",children:Object(W.jsx)(ie,{})})]})}),Object(W.jsxs)("section",{className:"easy-steps py-5 px-4",children:[Object(W.jsx)("div",{className:"row ",children:Object(W.jsxs)("div",{className:"col-12 h-auto",children:[Object(W.jsxs)("div",{className:"d-flex justify-content-center gap-3 align-items-center pb-5",children:[Object(W.jsx)("h2",{className:"fw-normal",children:"Cr\xe9er votre serre virtuelle"}),Object(W.jsxs)("span",{className:"fw-bold text-success py-2",children:[Object(W.jsx)(oe.a,{size:45}),"...en toute simplicit\xe9 !"]})]}),Object(W.jsx)("a",{href:"#",className:"btn fw-bold  btn-outline-success rounded mb-5",children:"Je cr\xe9e ma serre virtuelle"})]})}),Object(W.jsxs)("div",{className:"row procedure-cards py-2 ",children:[Object(W.jsx)("div",{className:"col-4 d-flex justify-content-center",children:Object(W.jsxs)("div",{className:" card rounded shadow",style:{maxWidth:"20rem"},children:[Object(W.jsx)("div",{className:"card-header bg-success fw-bold text-light py-2",children:Object(W.jsx)(le.f,{size:35})}),Object(W.jsxs)("div",{className:"card-body",children:[Object(W.jsx)("h4",{className:"card-title",children:"Je cr\xe9er mon compte"}),Object(W.jsxs)("p",{className:"card-text",children:["La s\xe9curit\xe9 et la confidentialit\xe9 de vos donn\xe9es sont notre priorit\xe9.",Object(W.jsx)("br",{}),Object(W.jsx)("a",{className:"link-success",href:"#",target:"_blank",rel:"noopener noreferrer",children:"Politique de confidentialit\xe9"})]})]})]})}),Object(W.jsx)("div",{className:"col-4 d-flex justify-content-center",children:Object(W.jsxs)("div",{className:" card rounded shadow",style:{maxWidth:"20rem"},children:[Object(W.jsx)("div",{className:"card-header bg-success fw-bold text-light py-2",children:Object(W.jsx)(le.e,{size:35})}),Object(W.jsxs)("div",{className:"card-body",children:[Object(W.jsx)("h4",{className:"card-title",children:"J'ajoute une plante"}),Object(W.jsx)("p",{className:"card-text",children:"Vous pouvez ajouter facilement des plantes dans votre serre virtuelle en quelques clicks!"})]})]})}),Object(W.jsx)("div",{className:"col-4 d-flex justify-content-center",children:Object(W.jsxs)("div",{className:" card rounded shadow",style:{maxWidth:"20rem"},children:[Object(W.jsx)("div",{className:"card-header bg-success fw-bold text-light py-2",children:Object(W.jsx)(le.a,{size:35})}),Object(W.jsxs)("div",{className:"card-body",children:[Object(W.jsx)("h4",{className:"card-title",children:"Je g\xe8re mes plantes"}),Object(W.jsx)("p",{className:"card-text",children:"Gr\xe2ce \xe0 votre tableau de board vous pouvez facilement g\xe9rer les plantes de votre serre virtuelle"})]})]})})]})]})]})},ue=function(){return Object(W.jsx)("footer",{className:"text-center text-lg-start text-muted ",children:Object(W.jsxs)("section",{className:" main-footer pt-4 bg-success",children:[Object(W.jsx)("div",{className:"container text-center text-md-start mt-2 text-white",children:Object(W.jsxs)("div",{className:"row",children:[Object(W.jsxs)("div",{className:"col-md-3 col-lg-4 col-xl-3 mx-auto mb-4 ",children:[Object(W.jsx)("h6",{className:"text-uppercase fw-bold mb-4",children:"Drink up !"}),Object(W.jsx)("p",{children:" Vos plantes nous diront merci ! Notre inteface intuitive vous permettra d'assurer l'arrosage de vos plantes en toute facilit\xe9. "})]}),Object(W.jsxs)("div",{className:"col-md-3 col-lg-2 col-xl-2 mx-auto mb-4",children:[Object(W.jsx)("h6",{className:"text-uppercase fw-bold mb-4",children:" Acc\xe8s rapides"}),Object(W.jsx)("p",{children:Object(W.jsx)("a",{href:"#!",className:"link-light",children:"Nos plantes"})}),Object(W.jsx)("p",{children:Object(W.jsx)("a",{href:"#!",className:"link-light",children:"Nous contacter"})}),Object(W.jsx)("p",{children:Object(W.jsx)("a",{href:"#!",className:"link-light",children:"Politique de confidentialit\xe9"})})]}),Object(W.jsxs)("div",{className:"col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4",children:[Object(W.jsx)("h6",{className:"text-uppercase fw-bold mb-4",children:"Informations de contact"}),Object(W.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(W.jsx)(le.c,{size:22}),Object(W.jsx)("p",{className:"mx-2",children:"69 Route de la verdure"})]}),Object(W.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(W.jsx)(le.b,{size:22}),Object(W.jsx)("p",{className:"mx-2",children:"drink-up@gmail.com"})]}),Object(W.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(W.jsx)(le.d,{size:22}),Object(W.jsx)("p",{className:"mx-2",children:"06 30 93 62 65"})]})]})]})}),Object(W.jsxs)("div",{className:"text-center p-4 bg-dark",children:["\xa9 2021 Copyright:",Object(W.jsx)("a",{className:"text-reset fw-bold",children:"Drink up!"})]})]})})};var je,be,me,he=function(){var e=document.getElementById("olivier");console.log(e);var t=Object(d.useInjection)(ee),s=t.isAuthenticated();console.log("authentifi\xe9 au lancement application => "+s),t.setup();var a=Object(u.d)();(0,Object(O.b)(n,a).setIsAuthenticated)(s);var c=Object(u.e)((function(e){return e.login.isAuthenticated}));return console.log("Etat du status de connexion dans state => "+c),Object(W.jsxs)(D.a,{history:V,children:[Object(W.jsx)(se,{}),Object(W.jsx)("main",{className:"App",children:Object(W.jsxs)($.d,{children:[Object(W.jsx)($.b,{path:"/",exact:!0,component:de}),Object(W.jsx)($.b,{path:"/login",exact:!0,component:Z}),Object(W.jsx)($.b,{path:"/dashboard",render:function(e){return c?Object(W.jsx)(ae,{}):Object(W.jsx)($.a,{to:"/"})}}),Object(W.jsx)($.b,{path:"/users/create",render:function(e){return c?Object(W.jsx)(ce,{}):Object(W.jsx)($.a,{to:"/"})}})]})}),Object(W.jsx)(ue,{})]})},xe=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,265)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))},pe=s(261),Oe=s(27),fe=s.n(Oe),ve=function e(t,s,n,a,c,r,i,l,o){Object(j.a)(this,e),this.id=void 0,this.name=void 0,this.image=void 0,this.description=void 0,this.exposition=void 0,this.care=void 0,this.toxicity=void 0,this.frequency=void 0,this.type=void 0,this.id=t,this.name=s,this.image=n,this.description=a,this.exposition=c,this.care=r,this.toxicity=i,this.frequency=l,this.type=o},Ne=function(e){return"http://drink-up-apiplatform.test:8080"+e},ge=Object(b.a)()(je=function e(){Object(j.a)(this,e),this.getAllPlants=Object(p.a)(x.a.mark((function e(){var t,s,n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ne("/api/plants"),e.prev=1,e.next=4,fe.a.get(t);case 4:return s=e.sent.data,n=s["hydra:member"],a=n.map((function(e){return new ve(e.id,e.name,e.image,e.description,e.exposition,e.care,e.toxicity,e.frequency,e.type)})),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(1);case 12:return e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))})||je,ye=s(61),we=s(81),Ie=Object(b.a)()(be=function(){function e(){Object(j.a)(this,e),this.isAuthenticated=function(){var e=window.localStorage.getItem("authToken");return"undefined"!==e&&null!==e&&1e3*Object(we.a)(e).exp>(new Date).getTime()}}return Object(ye.a)(e,[{key:"setup",value:function(){var e=window.localStorage.getItem("authToken");"undefined"!==e&&null!==e&&(1e3*Object(we.a)(e).exp>(new Date).getTime()&&this.setAxiosToken(e))}},{key:"setAxiosToken",value:function(e){fe.a.defaults.headers.common.Authorization="Bearer "+e}}]),e}())||be,ke=function e(t,s,n,a,c,r,i){Object(j.a)(this,e),this.id=void 0,this.gender=void 0,this.firstname=void 0,this.surname=void 0,this.is_notified=void 0,this.gardenerPlants=void 0,this.numberOfPlants=void 0,this.id=t,this.gender=s,this.firstname=n,this.surname=a,this.is_notified=c,this.gardenerPlants=r,this.numberOfPlants=i},Te=function e(t,s,n,a,c,r,i,l,o){Object(j.a)(this,e),this.id=void 0,this.nickname=void 0,this.sunlight=void 0,this.size=void 0,this.season=void 0,this.topography=void 0,this.location=void 0,this.frequency=void 0,this.image=void 0,this.id=t,this.nickname=s,this.sunlight=n,this.size=a,this.season=c,this.topography=r,this.location=i,this.frequency=l,this.image=o},Se=Object(b.a)()(me=function(){function e(){var t=this;Object(j.a)(this,e),this.protocole="http://",this.domain="drink-up-apiplatform.test:8080",this.url=this.protocole+this.domain,this.getAuthenticatedUserId=function(){var e=window.localStorage.getItem("authToken");return e?t.parseJwt(e).id:null},this.signOut=function(){t.unsetAxiosToken(),t.removeTokenFromLocalStorage()},this.register=function(){var e=Object(p.a)(x.a.mark((function e(s){var n,a,c,r,i,l,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.email,a=s.password,c=s.gender,r=s.firstname,i=s.surname,l=s.isNotified,"/api/users",o={email:n,password:a,gender:c,firstname:r,surname:i,isNotified:l},e.prev=3,e.next=6,fe.a.post(t.url+"/api/users",o);case 6:e.sent.data,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",alert(e.t0));case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),this.getUserData=function(){var e=Object(p.a)(x.a.mark((function e(t){var s,n,a,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Ne("/api/users/"+t),e.prev=1,e.next=4,fe.a.get(s);case 4:return n=e.sent.data,a=n.gardenerPlants,c=a.map((function(e){return new Te(e.id,e.nickname,e.sunlight,e.size,e.season,e.topography,e.location,e.plant.frequency,e.plant.image)})),r=new ke(n.id,n.gender,n.firstname,n.surname,n.is_notified,c,n.totalNumberOfGardenerPlants),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}return Object(ye.a)(e,[{key:"signIn",value:function(){var e=Object(p.a)(x.a.mark((function e(t,s){var n,a,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ne("/api/login_check"),a={username:t,password:s},e.prev=2,e.next=5,fe.a.post(n,a);case 5:c=e.sent.data,r=c.token,this.setAxiosToken(r),this.storeTokenInLocalStorage(r),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",alert(e.t0));case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t,s){return e.apply(this,arguments)}}()},{key:"storeTokenInLocalStorage",value:function(e){window.localStorage.setItem("authToken",e)}},{key:"removeTokenFromLocalStorage",value:function(){window.localStorage.removeItem("authToken")}},{key:"setAxiosToken",value:function(e){fe.a.defaults.headers.common.Authorization="Bearer "+e}},{key:"unsetAxiosToken",value:function(){delete fe.a.defaults.headers.common.Authorization}},{key:"parseJwt",value:function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}}}]),e}())||me,Ee=new pe.a;Ee.bind(m).to(Se),Ee.bind(ee).to(Ie),Ee.bind(ne).to(ge);var Ae=Ee;o.a.render(Object(W.jsx)(i.a.StrictMode,{children:Object(W.jsx)(d.Provider,{container:Ae,children:Object(W.jsx)(u.a,{store:H,children:Object(W.jsx)(he,{})})})}),document.getElementById("root")),xe((function(){}))}},[[257,1,2]]]);
//# sourceMappingURL=main.3eb96aeb.chunk.js.map